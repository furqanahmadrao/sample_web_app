import React, { useState } from 'react';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\n\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000/api';\n\nfunction Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const { login, user } = useAuth();\n\n  if (user) {\n    return <Navigate to="/dashboard" replace />;\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email || !password) {\n      setError('Please fill in all fields.');\n      return;\n    }\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      setError('Please enter a valid email address.');\n      return;\n    }\n    if (password.length < 6) {\n      setError('Password must be at least 6 characters.');\n      return;\n    }\n    setError('');\n    try {\n      const response = await axios.post(`${API_URL}/auth/login`, {\n        email,\n        password\n      });\n      login(response.data.token);\n      navigate('/dashboard');\n    } catch (err) {\n      setError('Failed to login. Please check your credentials.');\n      console.error(err);\n    }\n  };\n\n  return (\n    <div className="login-container">\n      <h2>Login to CloudNotes</h2>\n      <form onSubmit={handleSubmit} className="login-form">\n        <div>\n          <label htmlFor="email">Email:</label>\n          <input\n            id="email"\n            type="email"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n          />\n        </div>\n        <div>\n          <label htmlFor="password">Password:</label>\n          <input\n            id="password"\n            type="password"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n        </div>\n        {error && <div className="error">{error}</div>}\n        <button type="submit" className="full-width">Login</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;